(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-111f9619"],{"72fa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"esf bigbox"},[a("div",{},[a("el-breadcrumb",{staticClass:"navsbox",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("门店管理")]),a("el-breadcrumb-item",[t._v("门店列表")])],1),a("router-link",{staticClass:"add",attrs:{to:"/storelist/addstorelist",tag:"span"}},[t._v("添加+")]),[a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":t.tableHeaderColor,border:"",data:t.tableData},on:{"expand-change":t.test}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"header-cell-style":t.tableHeaderColor,border:"",data:e.row.arr}},[a("el-table-column",{attrs:{label:"门店名称",prop:"name"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"header",fn:function(n){return[a("router-link",{attrs:{to:{path:"/storelist/addgroup",query:{ids:e.row.id}},tag:"span"}},[t._v("添加+")])]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdits(e.$index,e.row)}}},[t._v("修改\n                    ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDeletes(e.$index,e.row)}}},[t._v("删除\n                    ")])]}}],null,!0)})],1)]}}])}),a("el-table-column",{attrs:{label:"门店名称",prop:"name"}}),a("el-table-column",{attrs:{label:"门店所在地",prop:"region_id"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字搜索"},on:{input:function(e){return t.get(t.search)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("修改\n              ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除\n              ")])]}}])})],1)]],2)])},i=[],o={name:"storelist",data:function(){return{loading:!0,currentPage:1,radio4:[],tableData:[],search:"",count:null,map:null}},methods:{test:function(t,e){var a=this;this.loading=!0,this.$axios.post("BackGroup/getByShopId.action",{ShopId:t.id}).then(function(t){for(var e=0;e<a.tableData.length;e++)a.tableData[e].id==t.data.data[0].shop_id&&(a.tableData[e].arr=t.data.data);a.loading=!1})},get:function(){var t=this;this.$axios.post("backShop/listAllOnPage.action",{pageSize:5,pageNum:1}).then(function(e){t.tableData=e.data.data.list;for(var a=function(a){var n="",i=e.data.data.list;t.$axios.post("region/getRegionByid.action",{id:e.data.data.list[a].region_id}).then(function(e){n=e.data.data.title,t.$axios.post("region/getRegionByid.action",{id:e.data.data.pid}).then(function(e){n=e.data.data.title+n,t.$axios.post("region/getRegionByid.action",{id:e.data.data.pid}).then(function(t){n=t.data.data.title+n,i[a].region_id=n})})})},n=0;n<e.data.data.list.length;n++)a(n)})},handleEdits:function(t,e){this.$router.push("/storelist/addgroup?id="+e.id)},handleEdit:function(t,e){this.$router.push("/storelist/addstorelist?id="+e.id)},handleDelete:function(t,e){var a=this;console.log(t,e),this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.post("backShop/delete.action",{id:e.id}).then(function(t){a.$message({type:"success",message:t.data.msg}),a.get("")})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleDeletes:function(t,e){var a=this;console.log(t,e),this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.post("BackGroup/delete.action",{id:e.id}).then(function(t){a.$message({type:"success",message:t.data.msg}),a.get("")})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},tableHeaderColor:function(t){t.row,t.column;var e=t.rowIndex;t.columnIndex;if(0===e)return"height: 50px!important;overflow: hidden; line-height: 28px;  border-bottom: 1px solid #ebeef5;background-color: #f5f7fa"},changnum:function(t){this.getHomelist(t)}},mounted:function(){this.get("")}},r=o,s=(a("f5f0"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"479d3c97",null);e["default"]=l.exports},"98dd":function(t,e,a){},f5f0:function(t,e,a){"use strict";var n=a("98dd"),i=a.n(n);i.a}}]);