(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52c19f91"],{"25c7":function(s,e,t){"use strict";t.r(e);var o=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"bigbox"},[t("el-breadcrumb",{staticClass:"navsbox",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[s._v("首页")]),t("el-breadcrumb-item",[s._v("楼盘管理")]),t("el-breadcrumb-item",[s._v("添加门牌")])],1),t("div",{staticClass:"boxs"},[t("el-form",{attrs:{"label-width":"100px"}},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:s.shows,expression:"shows"}],attrs:{label:"楼层"}},[t("el-input",{model:{value:s.fool,callback:function(e){s.fool=e},expression:"fool"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:s.showsnum,expression:"showsnum"}],attrs:{label:"楼越"}},[s._l(s.dynamicTags,function(e){return t("el-tag",{key:e,attrs:{closable:"","disable-transitions":!1},on:{close:function(t){return s.handleClose(e)}}},[s._v("\n        "+s._s(e)+"\n      ")])}),s.inputVisible?t("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:s.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.handleInputConfirm(e)}},model:{value:s.inputValue,callback:function(e){s.inputValue=e},expression:"inputValue"}}):t("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:s.showInput}},[s._v("+楼层")])],2),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!s.showss,expression:"!showss"}],attrs:{label:"门牌号"}},[t("el-input",{model:{value:s.num,callback:function(e){s.num=e},expression:"num"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!s.shows,expression:"!shows"}],attrs:{label:"起始门牌号"}},[t("el-input",{model:{value:s.nums,callback:function(e){s.nums=e},expression:"nums"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!s.shows,expression:"!shows"}],attrs:{label:"结束门牌号"}},[t("el-input",{model:{value:s.nume,callback:function(e){s.nume=e},expression:"nume"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!s.showss,expression:"!showss"}],staticClass:"formlist",attrs:{label:"房源状态",prop:"wymoney"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:s.valuezt,callback:function(e){s.valuezt=e},expression:"valuezt"}},s._l(s.optionmoneysj,function(s){return t("el-option",{key:s.value,attrs:{label:s.label,value:s.value}})}),1)],1)],1)],1),t("el-button",{directives:[{name:"show",rawName:"v-show",value:s.showsa,expression:"showsa"}],attrs:{type:"primary"},on:{click:function(e){return s.xgform()}}},[s._v("修改")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:!s.showsas,expression:"!showsas"}],attrs:{type:"primary"},on:{click:function(e){return s.add()}}},[s._v("提交")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:s.showss,expression:"showss"}],attrs:{type:"primary"},on:{click:function(e){return s.adds()}}},[s._v("批量提交")])],1)},i=[],a={name:"addmp",data:function(){return{dynamicTags:[],inputVisible:!1,inputValue:"",nums:"",nume:"",showsa:!1,showss:!1,shows:!1,showsas:!1,showsnum:!0,fool:"",num:"",valuezt:"",optionmoneysj:[{value:0,label:"待录房源"},{value:1,label:"待租"},{value:2,label:"已租"}]}},methods:{handleClose:function(s){this.dynamicTags.splice(this.dynamicTags.indexOf(s),1)},showInput:function(){var s=this;this.inputVisible=!0,this.$nextTick(function(e){s.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var s=this.inputValue;s&&this.dynamicTags.push(s),this.inputVisible=!1,this.inputValue=""},adds:function(){for(var s=this,e=[],t=0;t<this.dynamicTags.length;t++)e.push(this.dynamicTags[t]);this.$axios.post("BackHousesNew/insertDoor.action",{build_id:this.$route.query.idds,flooors:this.$route.query.num,startDoor:this.nums,endDoor:this.nume,span:e}).then(function(e){0==e.data.code&&(s.$message({message:"批量增加门牌号成功",type:"success"}),setTimeout(function(){s.$router.push({path:"/housingResources/houseDictionaries"})},1e3))})},get:function(){var s=this;this.$axios.post("BackHousesNew/getPlotDoorById.action",{id:this.$route.query.ids}).then(function(e){s.fool=e.data.data.floor,s.num=e.data.data.door_num,s.valuezt=e.data.data.status})},xgform:function(){var s=this;return null==this.fool||""==this.fool?(this.$notify.error({title:"错误",message:"请将信息填完整后在提交"}),!1):""==this.num||null==this.num?(this.$notify.error({title:"错误",message:"请将信息填完整后在提交"}),!1):void this.$axios.post("BackHousesNew/updatePlotDoor.action",{id:this.$route.query.ids,floor:this.fool,door_num:this.num,status:this.valuezt}).then(function(e){0==e.data.code&&(s.$message({message:"修改门牌号成功",type:"success"}),setTimeout(function(){s.$router.push({path:"/housingResources/houseDictionaries"})},1e3))})},add:function(){var s=this;return""==this.fool?(this.$notify.error({title:"错误",message:"请将信息填完整后在提交"}),!1):""==this.num?(this.$notify.error({title:"错误",message:"请将信息填完整后在提交"}),!1):""==this.valuezt&&"0"!=this.valuezt?(this.$notify.error({title:"错误",message:"请将信息填完整后在提交"}),!1):void this.$axios.post("BackHousesNew/insertPlotDoor.action",{build_id:this.$route.query.id,floor:this.fool,door_num:this.num,status:this.valuezt}).then(function(e){0==e.data.code&&(s.$message({message:"新增门牌号成功",type:"success"}),setTimeout(function(){s.$router.push({path:"/housingResources/houseDictionaries"})},1e3))})}},mounted:function(){window.sessionStorage.setItem("pathids",this.$route.fullPath),void 0!=this.$route.query.idds&&void 0==this.$route.query.ids&&void 0==this.$route.query.id&&(this.showsa=!1,this.showss=!0,this.showsas=!0),void 0!=this.$route.query.id&&void 0==this.$route.query.idds&&void 0==this.$route.query.ids&&(this.showsnum=!1,this.shows=!0,this.showsas=!1),void 0!=this.$route.query.ids&&void 0==this.$route.query.idds&&void 0==this.$route.query.id&&(this.showsnum=!1,this.shows=!0,this.showsa=!0,this.showsas=!0,this.get())}},n=a,u=(t("fa47"),t("88dd"),t("2877")),r=Object(u["a"])(n,o,i,!1,null,"6398ae58",null);e["default"]=r.exports},3225:function(s,e,t){},"88dd":function(s,e,t){"use strict";var o=t("3225"),i=t.n(o);i.a},b648:function(s,e,t){},fa47:function(s,e,t){"use strict";var o=t("b648"),i=t.n(o);i.a}}]);