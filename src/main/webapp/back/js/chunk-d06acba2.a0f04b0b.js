(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d06acba2"],{"0042":function(t,a,e){"use strict";var i=e("c55b"),n=e.n(i);n.a},"6cb0":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"esf bigbox"},[e("div",{},[e("el-breadcrumb",{staticClass:"navsbox",attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),e("el-breadcrumb-item",[t._v("系统设置")]),e("el-breadcrumb-item",[t._v("地区设置")])],1),[e("span",{staticClass:"add",on:{click:function(a){return t.addbox()}}},[t._v("添加+")]),e("el-table",{staticStyle:{width:"902px",margin:"0 auto"},attrs:{"header-cell-style":t.tableHeaderColor,data:t.tableData,border:""}},[e("el-table-column",{attrs:{prop:"province_name",label:"省份",width:"300px"}}),e("el-table-column",{attrs:{prop:"city",label:"城市",width:"300px"}}),e("el-table-column",{attrs:{label:"操作",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleEdit(a.$index,a.row)}}},[t._v("删除")])]}}])})],1),e("el-pagination",{attrs:{small:"",layout:"prev, pager, next","current-page":t.currentPage,total:t.count},on:{"update:currentPage":function(a){t.currentPage=a},"update:current-page":function(a){t.currentPage=a},"current-change":function(a){return t.changnum(t.currentPage)}}})]],2),e("el-dialog",{attrs:{visible:t.dialogFormVisible},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-form",[e("el-form-item",{staticClass:"formlist",attrs:{label:"增加地区"}},[e("el-cascader",{attrs:{options:t.options2,props:t.props},on:{"active-item-change":t.handleItemChange},model:{value:t.maps,callback:function(a){t.maps=a},expression:"maps"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.add()}}},[t._v("确 定")])],1)],1)],1)},n=[],o=e("ef6c"),s={name:"mapset",data:function(){return{maps:[],options2:[],props:{value:"value",children:"cities"},maparr:[],maparrid:[],options:o["regionData"],selectedOptions:[],formLabelWidth:"120px",dialogFormVisible:!1,currentPage:1,count:null,tableData:[]}},methods:{handleItemChange:function(t){var a=this;this.$axios.post("region/listRegion.action",{pid:t[0]}).then(function(e){for(var i=0;i<a.options2.length;i++)if(a.options2[i].value==t[0]){a.options2[i].cities=[];for(var n=0;n<e.data.data.length;n++){var o={};o.label=e.data.data[n].title,o.value=e.data.data[n].area_id,a.options2[i].cities.push(o)}}})},addbox:function(){var t=this;this.dialogFormVisible=!0,this.$axios.post("region/listRegion.action",{pid:0}).then(function(a){for(var e=0;e<a.data.data.length;e++){var i={};i.label=a.data.data[e].title,i.value=a.data.data[e].area_id,i.cities=[],t.options2.push(i)}})},handleEdit:function(t,a){var e=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("BackExisting/deleteExisting.action",{id:a.id}).then(function(t){e.$message({type:"success",message:"删除成功!"}),e.getlist()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},add:function(){var t=this;this.dialogFormVisible=!1;for(var a=0;a<this.options2.length;a++)if(this.options2[a].value==this.maps[0]){this.maparr.push(this.options2[a].label);for(var e=0;e<this.options2[a].cities.length;e++)this.options2[a].cities[e].value==this.maps[1]&&this.maparr.push(this.options2[a].cities[e].label)}this.$axios.post("BackExisting/insert.action",{province_id:this.maps[0],province_name:this.maparr[0],city_id:this.maps[1],city:this.maparr[1]}).then(function(a){t.getlist()})},addressChange:function(t){this.maparr.push(o["CodeToText"][t[2]]),this.maparr.push(o["CodeToText"][t[1]]),this.maparr.push(o["CodeToText"][t[0]]),this.maparrid=t},changnum:function(t){this.getlist(t)},tableHeaderColor:function(t){t.row,t.column;var a=t.rowIndex;t.columnIndex;if(0===a)return"height: 50px!important;overflow: hidden; line-height: 28px;  border-bottom: 1px solid #ebeef5;background-color: #f5f7fa"},getlist:function(){var t=this;this.$axios.post("BackExisting/pagerListAll.action",{pageSize:10,pageNum:1}).then(function(a){t.tableData=a.data.data.list,t.count=a.data.data.total})},formatData:function(t){var a=new Date(t),e=a.getFullYear(),i=a.getMonth()+1,n=a.getDate();i=i<10?"0"+i:i,n=n<10?"0"+n:n;return e+"-"+i+"-"+n}},mounted:function(){this.getlist()}},r=s,l=(e("0042"),e("2877")),c=Object(l["a"])(r,i,n,!1,null,"7e013fb0",null);a["default"]=c.exports},c55b:function(t,a,e){}}]);